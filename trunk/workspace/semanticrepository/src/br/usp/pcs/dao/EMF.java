package br.usp.pcs.dao;import java.util.logging.Logger;import javax.persistence.EntityManager;import javax.persistence.EntityManagerFactory;import javax.persistence.Persistence;import br.com.caelum.vraptor.Resource;import br.com.caelum.vraptor.ioc.ApplicationScoped;@ApplicationScoped@Resourcepublic final class EMF {    private static final Logger log = Logger.getLogger(EMF.class.getName());    private static final EntityManagerFactory emfInstance = Persistence    .createEntityManagerFactory("transactions-optional");    private EntityManager entityManager;    public EMF() {        entityManager = emfInstance.createEntityManager();        log.info("Initializing EMF...");    }    public EntityManager getEntityManager() {        return entityManager;    }}
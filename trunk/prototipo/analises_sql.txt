
# Fornece a soma do quadrados dos erros agrupados por tipo de algoritmo
select sum((r.stars-sr.predicted_rating)*(r.stars-sr.predicted_rating)), sr.algorithm from ratings r, system_recommendations sr where r.product_id = sr.product_id and r.user_id = sr.user_id group by sr.algorithm

# Histograma dos erros dos algoritmos
select round((r.stars-sr.predicted_rating),0) as erro, count(*)*100/(select count(*) from system_recommendations _sr where _sr.algorithm = sr.algorithm),  sr.algorithm from ratings r, system_recommendations sr where r.product_id = sr.product_id and r.user_id = sr.user_id group by erro, sr.algorithm order by sr.algorithm, erro
